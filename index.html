<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>따사룸 매트견적 계산기</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='6' width='48' height='52' rx='8' ry='8' fill='%232563eb'/%3E%3Crect x='14' y='12' width='36' height='10' rx='3' fill='%23ffffff' opacity='0.9'/%3E%3Crect x='18' y='28' width='10' height='10' rx='2' fill='%23ffffff'/%3E%3Crect x='36' y='28' width='10' height='10' rx='2' fill='%23ffffff'/%3E%3Crect x='18' y='42' width='10' height='10' rx='2' fill='%23ffffff'/%3E%3Crect x='36' y='42' width='10' height='10' rx='2' fill='%23ffffff'/%3E%3C/svg%3E"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="container">
      <h1>따사룸 매트견적 계산기</h1>

      <section class="card">
        <h2>제품 선택</h2>
        <div class="product-tabs">
          <div class="product-tab-item">
            <button class="product-tab-btn active" data-product="puzzle">
              <div class="product-tab-image" style="background-image: url('./images/product_03.jpg')"></div>
            </button>
            <span class="product-tab-label">퍼즐매트</span>
          </div>
          <div class="product-tab-item">
            <button class="product-tab-btn" data-product="babyRoll">
              <div class="product-tab-image" style="background-image: url('./images/product_01.jpg')"></div>
            </button>
            <span class="product-tab-label">유아 롤매트</span>
          </div>
          <div class="product-tab-item">
            <button class="product-tab-btn" data-product="petRoll">
              <div class="product-tab-image" style="background-image: url('./images/product_02.jpg')"></div>
            </button>
            <span class="product-tab-label">애견 롤매트</span>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>두께 선택</h2>
        <div id="thickness-selector" class="thickness-tabs">
          <!-- 동적으로 생성됨 -->
        </div>
      </section>

      <section class="card calc-mode-card" data-calc-mode-section>
        <h2>계산 방식</h2>
        <div class="calc-mode-tabs">
          <button class="calc-mode-btn active" data-mode="loose">여유있게 깔기</button>
          <button class="calc-mode-btn" data-mode="exact">정확히 맞추기</button>
        </div>
        <input type="hidden" name="calc-mode" id="calc-mode-value" value="loose">
        <p class="muted small" style="margin-top: 12px;">
          퍼즐매트에만 적용됩니다. 롤매트는 자동으로 최적 조합을 찾습니다.
        </p>
      </section>

      <section class="card">
        <h2>공간 입력</h2>

        <div id="spaces-container"></div>

        <div class="button-group">
          <button id="add-space" class="secondary">+ 공간 추가</button>
        </div>
      </section>

      <section class="card">
        <h2>견적 결과</h2>

        <div class="result">
          <div style="margin-bottom: 12px;"><strong>총 구성</strong></div>
          <div id="total-composition" style="margin-left: 20px; margin-bottom: 12px;">-</div>
          <div style="margin-top: 16px;"><strong>총 장수</strong></div>
          <div style="margin-left: 20px;"><strong id="total-pcs">-</strong></div>
          <div class="price-highlight" style="margin-top: 16px;"><strong>총 가격 <span class="muted small">(할인 미적용가)</span></strong></div>
          <div class="price-highlight" style="margin-left: 20px;"><strong id="total-price">-</strong></div>
        </div>

        <div class="action-buttons">
          <button id="copy-estimate" class="action-btn secondary-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            견적서 복사
          </button>
          <button id="copy-shipping-memo" class="action-btn secondary-btn" style="display: none;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            배송메모 복사
          </button>
          <a id="purchase-link" href="#" target="_blank" class="action-btn primary-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            제품 구매하기
          </a>
        </div>
      </section>

      <footer class="muted small" style="text-align: center; padding: 20px 0; line-height: 1.6;">
        <strong style="color: #475569;">따사룸 (주)대승아이앤피</strong> 공식 견적 계산기<br>
        개발 관리: 천승엽 팀장 | 무단 복제 및 도용 시 법적 조치 가능
      </footer>
    </main>

    <script src="./app.js"></script>
  </body>
  </html>
